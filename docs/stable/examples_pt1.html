

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>How-To: Beginners’ steps &mdash; Robust financial portfolio management framework 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="How-To: Advanced techniques" href="examples_pt2.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Robust financial portfolio management framework
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">How-To: Beginners' steps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#load-package-and-create-basic-options">Load package and create basic options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-solver-and-solving-some-problems">Creating solver and solving some problems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples_pt2.html">How-To: Advanced techniques</a></li>
<li class="toctree-l1"><a class="reference internal" href="about_rfpmf.html">About Robust Financial Portfolio Management Framework</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="robustfpm.html">Main package</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Robust financial portfolio management framework</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>How-To: Beginners’ steps</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/examples_pt1.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-beginners-steps">
<h1>How-To: Beginners’ steps<a class="headerlink" href="#how-to-beginners-steps" title="Permalink to this headline">¶</a></h1>
<p>These examples are also available in <a class="reference download internal" download="" href="_downloads/fa8aef0d715267683a6bc4dd720b7185/basic_usage.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Jupyter</span> <span class="pre">Notebook</span></code></a></p>
<div class="section" id="load-package-and-create-basic-options">
<h2>Load package and create basic options<a class="headerlink" href="#load-package-and-create-basic-options" title="Permalink to this headline">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;/path/to/robustfpm&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">robustfpm.finance</span> <span class="kn">import</span> <span class="n">make_option</span>
</pre></div>
</div>
<p>Let’s start with some basic options:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">option1</span> <span class="o">=</span> <span class="n">make_option</span><span class="p">(</span><span class="n">option_type</span><span class="o">=</span><span class="s1">&#39;putonmax&#39;</span><span class="p">,</span> <span class="n">strike</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span> <span class="c1"># American Put with strike 90</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">option2</span> <span class="o">=</span> <span class="n">make_option</span><span class="p">(</span><span class="n">option_type</span><span class="o">=</span><span class="s1">&#39;putonmax&#39;</span><span class="p">,</span> <span class="n">strike</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">payoff_dates</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span> <span class="c1"># European Put with strike 80 and expiration date 5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">option3</span> <span class="o">=</span> <span class="n">make_option</span><span class="p">(</span><span class="n">option_type</span><span class="o">=</span><span class="s1">&#39;callonmax&#39;</span><span class="p">,</span> <span class="n">strike</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">payoff_dates</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span> <span class="c1"># Bermudan Call with strike 90 and payoff dates 3 and 5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">option4</span> <span class="o">=</span> <span class="n">make_option</span><span class="p">(</span><span class="n">option_type</span><span class="o">=</span><span class="s1">&#39;put2call1&#39;</span><span class="p">)</span> <span class="c1"># American Put2Call1 option</span>
</pre></div>
</div>
<p>Let’s see how options got instantiated:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Option 1: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">option1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Option 2: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">option2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Option 3: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">option3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Option 4: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">option4</span><span class="p">))</span>
<span class="go">Option 1: &lt;robustfpm.finance.derivatives.AmericanOption object at 0x129591a60&gt;</span>
<span class="go">Option 2: &lt;robustfpm.finance.derivatives.EuropeanOption object at 0x1295916d0&gt;</span>
<span class="go">Option 3: &lt;robustfpm.finance.derivatives.BermudanOption object at 0x129591160&gt;</span>
<span class="go">Option 4: &lt;robustfpm.finance.derivatives.AmericanOption object at 0x129591550&gt;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Option 1 payoff at x = 80, 90, and 100, t = 3: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">option1</span><span class="o">.</span><span class="n">payoff</span><span class="p">([[</span><span class="mi">80</span><span class="p">],</span> <span class="p">[</span><span class="mi">90</span><span class="p">],</span> <span class="p">[</span><span class="mi">100</span><span class="p">]],</span> <span class="mi">3</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Option 2 payoff at x = 100, t = 3: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">option2</span><span class="o">.</span><span class="n">payoff</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Option 3 payoff at x = 100, t = 3: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">option3</span><span class="o">.</span><span class="n">payoff</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Option 3 payoff at x = 100, t = 4: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">option3</span><span class="o">.</span><span class="n">payoff</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">4</span><span class="p">)))</span>
<span class="go">Option 1 payoff at x = 80, 90, and 100, t = 3: [10.  0.  0.]</span>
<span class="go">Option 2 payoff at x = 100, t = 3: [-inf]</span>
<span class="go">Option 3 payoff at x = 100, t = 3: [10.]</span>
<span class="go">Option 3 payoff at x = 100, t = 4: [-inf]</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-solver-and-solving-some-problems">
<h2>Creating solver and solving some problems<a class="headerlink" href="#creating-solver-and-solving-some-problems" title="Permalink to this headline">¶</a></h2>
<p>Let’s create some basic 1D Problem with Rectangular multiplicative dynamics and no trading constraints. For that, we need <a class="reference internal" href="robustfpm.pricing.problem.html#robustfpm.pricing.problem.Problem" title="robustfpm.pricing.problem.Problem"><code class="xref py py-class docutils literal notranslate"><span class="pre">robustfpm.pricing.problem.Problem</span></code></a> from <a class="reference internal" href="robustfpm.pricing.html#module-robustfpm.pricing" title="robustfpm.pricing"><code class="xref py py-mod docutils literal notranslate"><span class="pre">robustfpm.pricing</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pm1</span> <span class="o">=</span> <span class="n">Problem</span><span class="p">(</span><span class="n">starting_price</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
                  <span class="n">price_dynamics</span><span class="o">=</span><span class="n">ConstantDynamics</span><span class="p">(</span><span class="n">support</span><span class="o">=</span><span class="n">RectangularHandler</span><span class="p">([</span><span class="o">.</span><span class="mi">9</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">]),</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;mult&#39;</span><span class="p">),</span>
                  <span class="n">trading_constraints</span><span class="o">=</span><span class="n">NoConstraints</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">option1</span><span class="p">,</span>
                  <span class="n">lattice</span><span class="o">=</span><span class="n">Lattice</span><span class="p">(</span><span class="n">delta</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                  <span class="n">time_horizon</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>We begin by instantiating solver with some parameters.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">robustfpm.pricing</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;convex_hull_filter&#39;</span><span class="p">:</span> <span class="s1">&#39;qhull&#39;</span><span class="p">,</span> <span class="s1">&#39;convex_hull_prune_fail_count&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;convex_hull_prune_success_count&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;convex_hull_prune_corner_n&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span><span class="s1">&#39;convex_hull_prune_seed&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span> <span class="o">=</span> <span class="n">ConvhullSolver</span><span class="p">(</span><span class="n">enable_timer</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pricer_options</span><span class="o">=</span><span class="n">opts</span><span class="p">,</span> <span class="n">ignore_warnings</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">iter_tick</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Most of the time, there is no point in tweaking <em>all</em> of these parameters, only some, namely <code class="code docutils literal notranslate"><span class="pre">enable_timer</span></code> and <code class="code docutils literal notranslate"><span class="pre">iter_tick</span></code>.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="robustfpm.pricing.problem.html#robustfpm.pricing.problem.ConvhullSolver" title="robustfpm.pricing.problem.ConvhullSolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">robustfpm.pricing.problem.ConvhullSolver</span></code></a></p>
</div>
<p>Now we solve it and see the result <span class="math notranslate nohighlight">\(V_0(x_0)\)</span>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sol1</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">pm1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the solution is simply a dictionary</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Value: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sol1</span><span class="p">[</span><span class="s1">&#39;Vf&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span>
<span class="go">Precalculating points for value function evaluation: 0.1079 sec (CPU 0.1079 sec)</span>
<span class="go">Computing value function in the last point: 0.0000 sec (CPU 0.0000 sec)</span>
<span class="go">t = 4</span>
<span class="go">t = 3</span>
<span class="go">iter = 6/67 (8.96%)</span>
<span class="go">iter = 55/67 (82.09%)</span>
<span class="go">t = 2</span>
<span class="go">t = 1</span>
<span class="go">t = 0</span>
<span class="go">Computing value function in intermediate points in time: 0.5200 sec (CPU 0.5200 sec)</span>
<span class="go">Solving the problem: 0.6285 sec (CPU 0.6285 sec)</span>
<span class="go">Value: 5.327786420219619</span>
</pre></div>
</div>
<p>Let’s play around and change Lattice step</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pm1</span><span class="o">.</span><span class="n">lattice</span> <span class="o">=</span> <span class="n">Lattice</span><span class="p">(</span><span class="n">delta</span><span class="o">=</span><span class="p">[</span><span class="o">.</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sol2</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">pm1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Value: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sol2</span><span class="p">[</span><span class="s1">&#39;Vf&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span>
<span class="go">Precalculating points for value function evaluation: 0.6986 sec (CPU 0.6986 sec)</span>
<span class="go">Computing value function in the last point: 0.0002 sec (CPU 0.0002 sec)</span>
<span class="go">t = 4</span>
<span class="go">iter = 1/818 (0.12%)</span>
<span class="go">iter = 170/818 (20.78%)</span>
<span class="go">iter = 283/818 (34.60%)</span>
<span class="go">iter = 314/818 (38.39%)</span>
<span class="go">iter = 320/818 (39.12%)</span>
<span class="go">iter = 347/818 (42.42%)</span>
<span class="go">iter = 392/818 (47.92%)</span>
<span class="go">iter = 461/818 (56.36%)</span>
<span class="go">iter = 497/818 (60.76%)</span>
<span class="go">iter = 513/818 (62.71%)</span>
<span class="go">iter = 525/818 (64.18%)</span>
<span class="go">iter = 567/818 (69.32%)</span>
<span class="go">iter = 572/818 (69.93%)</span>
<span class="go">t = 3</span>
<span class="go">iter = 7/609 (1.15%)</span>
<span class="go">iter = 37/609 (6.08%)</span>
<span class="go">iter = 225/609 (36.95%)</span>
<span class="go">iter = 306/609 (50.25%)</span>
<span class="go">iter = 329/609 (54.02%)</span>
<span class="go">iter = 403/609 (66.17%)</span>
<span class="go">iter = 404/609 (66.34%)</span>
<span class="go">iter = 410/609 (67.32%)</span>
<span class="go">iter = 512/609 (84.07%)</span>
<span class="go">iter = 597/609 (98.03%)</span>
<span class="go">iter = 605/609 (99.34%)</span>
<span class="go">t = 2</span>
<span class="go">iter = 7/405 (1.73%)</span>
<span class="go">iter = 39/405 (9.63%)</span>
<span class="go">iter = 70/405 (17.28%)</span>
<span class="go">iter = 92/405 (22.72%)</span>
<span class="go">iter = 169/405 (41.73%)</span>
<span class="go">iter = 256/405 (63.21%)</span>
<span class="go">iter = 259/405 (63.95%)</span>
<span class="go">iter = 291/405 (71.85%)</span>
<span class="go">iter = 323/405 (79.75%)</span>
<span class="go">iter = 346/405 (85.43%)</span>
<span class="go">t = 1</span>
<span class="go">iter = 51/203 (25.12%)</span>
<span class="go">iter = 107/203 (52.71%)</span>
<span class="go">t = 0</span>
<span class="go">Computing value function in intermediate points in time: 4.2327 sec (CPU 4.2328 sec)</span>
<span class="go">Solving the problem: 4.9321 sec (CPU 4.9322 sec)</span>
<span class="go">Value: 4.415097310413493</span>
</pre></div>
</div>
<p>Let’s try 2D Problem with another option and <em>additive</em> dynamics.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pm2</span> <span class="o">=</span> <span class="n">Problem</span><span class="p">(</span><span class="n">starting_price</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">91</span><span class="p">,</span><span class="mi">90</span><span class="p">]),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="n">price_dynamics</span><span class="o">=</span><span class="n">ConstantDynamics</span><span class="p">(</span><span class="n">support</span><span class="o">=</span><span class="n">RectangularHandler</span><span class="p">([[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],[</span><span class="o">-.</span><span class="mi">75</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]),</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;add&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="n">trading_constraints</span><span class="o">=</span><span class="n">IdenticalMap</span><span class="p">(</span><span class="n">RealSpaceHandler</span><span class="p">()),</span> <span class="n">option</span><span class="o">=</span><span class="n">option4</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="n">lattice</span><span class="o">=</span><span class="n">Lattice</span><span class="p">(</span><span class="n">delta</span><span class="o">=</span><span class="p">[</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">]),</span> <span class="n">time_horizon</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">iter_tick</span> <span class="o">=</span> <span class="mi">200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sol3</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">pm2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Value: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sol3</span><span class="p">[</span><span class="s1">&#39;Vf&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span>
<span class="go">Precalculating points for value function evaluation: 0.9273 sec (CPU 0.9273 sec)</span>
<span class="go">Computing value function in the last point: 0.0005 sec (CPU 0.0004 sec)</span>
<span class="go">t = 4</span>
<span class="go">iter = 357/5913 (6.04%)</span>
<span class="go">iter = 559/5913 (9.45%)</span>
<span class="go">iter = 1361/5913 (23.02%)</span>
<span class="go">iter = 1555/5913 (26.30%)</span>
<span class="go">iter = 1569/5913 (26.53%)</span>
<span class="go">iter = 1777/5913 (30.05%)</span>
<span class="go">iter = 1900/5913 (32.13%)</span>
<span class="go">iter = 2036/5913 (34.43%)</span>
<span class="go">iter = 2090/5913 (35.35%)</span>
<span class="go">iter = 2159/5913 (36.51%)</span>
<span class="go">iter = 2645/5913 (44.73%)</span>
<span class="go">iter = 2840/5913 (48.03%)</span>
<span class="go">iter = 3117/5913 (52.71%)</span>
<span class="go">iter = 3561/5913 (60.22%)</span>
<span class="go">iter = 3707/5913 (62.69%)</span>
<span class="go">iter = 3745/5913 (63.34%)</span>
<span class="go">iter = 3777/5913 (63.88%)</span>
<span class="go">iter = 3839/5913 (64.92%)</span>
<span class="go">iter = 4043/5913 (68.37%)</span>
<span class="go">iter = 4057/5913 (68.61%)</span>
<span class="go">iter = 4127/5913 (69.80%)</span>
<span class="go">iter = 4220/5913 (71.37%)</span>
<span class="go">iter = 4291/5913 (72.57%)</span>
<span class="go">iter = 4525/5913 (76.53%)</span>
<span class="go">iter = 5007/5913 (84.68%)</span>
<span class="go">iter = 5030/5913 (85.07%)</span>
<span class="go">iter = 5103/5913 (86.30%)</span>
<span class="go">iter = 5111/5913 (86.44%)</span>
<span class="go">iter = 5200/5913 (87.94%)</span>
<span class="go">iter = 5314/5913 (89.87%)</span>
<span class="go">iter = 5494/5913 (92.91%)</span>
<span class="go">iter = 5860/5913 (99.10%)</span>
<span class="go">t = 3</span>
<span class="go">iter = 387/3355 (11.54%)</span>
<span class="go">iter = 817/3355 (24.35%)</span>
<span class="go">iter = 829/3355 (24.71%)</span>
<span class="go">iter = 867/3355 (25.84%)</span>
<span class="go">iter = 899/3355 (26.80%)</span>
<span class="go">iter = 1033/3355 (30.79%)</span>
<span class="go">iter = 1207/3355 (35.98%)</span>
<span class="go">iter = 2367/3355 (70.55%)</span>
<span class="go">iter = 2405/3355 (71.68%)</span>
<span class="go">iter = 2468/3355 (73.56%)</span>
<span class="go">iter = 2471/3355 (73.65%)</span>
<span class="go">iter = 2506/3355 (74.69%)</span>
<span class="go">iter = 2844/3355 (84.77%)</span>
<span class="go">iter = 2876/3355 (85.72%)</span>
<span class="go">iter = 2877/3355 (85.75%)</span>
<span class="go">iter = 3120/3355 (93.00%)</span>
<span class="go">iter = 3303/3355 (98.45%)</span>
<span class="go">t = 2</span>
<span class="go">iter = 246/1517 (16.22%)</span>
<span class="go">iter = 676/1517 (44.56%)</span>
<span class="go">iter = 919/1517 (60.58%)</span>
<span class="go">iter = 1072/1517 (70.67%)</span>
<span class="go">iter = 1112/1517 (73.30%)</span>
<span class="go">iter = 1426/1517 (94.00%)</span>
<span class="go">t = 1</span>
<span class="go">t = 0</span>
<span class="go">Computing value function in intermediate points in time: 39.4168 sec (CPU 39.4172 sec)</span>
<span class="go">Solving the problem: 40.3460 sec (CPU 40.3465 sec)</span>
<span class="go">Value: 2.244970331346091</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="code docutils literal notranslate"><span class="pre">NoConstraints</span></code> is just an alias for <code class="code docutils literal notranslate"><span class="pre">IdenticalMap(RealSpaceHandler())</span></code>. There is also another alias: <code class="code docutils literal notranslate"><span class="pre">LongOnlyConstraints</span></code>, which is just <code class="code docutils literal notranslate"><span class="pre">IdenticalMap(NonNegativeSpaceHandler)</span></code></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="robustfpm.pricing.multival_map.html#module-robustfpm.pricing.multival_map" title="robustfpm.pricing.multival_map"><code class="xref py py-mod docutils literal notranslate"><span class="pre">robustfpm.pricing.multival_map</span></code></a>:</dt><dd><p>Module with multivalued mappings, used for both Trading Constraints and Price Dynamics.</p>
</dd>
<dt><a class="reference internal" href="robustfpm.pricing.multival_map.html#robustfpm.pricing.multival_map.IMultivalMap" title="robustfpm.pricing.multival_map.IMultivalMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">robustfpm.pricing.multival_map.IMultivalMap</span></code></a></dt><dd><p>Class for multivalued mappings, used for trading constraints</p>
</dd>
<dt><a class="reference internal" href="robustfpm.pricing.multival_map.html#robustfpm.pricing.multival_map.PriceDynamics" title="robustfpm.pricing.multival_map.PriceDynamics"><code class="xref py py-class docutils literal notranslate"><span class="pre">robustfpm.pricing.multival_map.PriceDynamics</span></code></a></dt><dd><p>Class for price dynamics</p>
</dd>
</dl>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="examples_pt2.html" class="btn btn-neutral float-right" title="How-To: Advanced techniques" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Nick Andreev, Sergey Smirnov, Vladislav Kuznetsov, Vadim Slivinski.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>